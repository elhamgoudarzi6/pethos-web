<div class="section mt-3 pb-70">
  <div class="px-3">
    <div class="theme-container">
      <h1 class="section-title">املاک "جدید"</h1>

      <div class="container-fluid properties-wrapper p-0 mt-5">

        <div class="ltr">
          <owl-carousel-o [options]="customOptions">
            <ng-template carouselSlide *ngFor="let item of properties">
              <div class="item">
                <div class="
                        property-card property-item
                        grid-item
                        column-4
                        full-width-page
                      ">
                  <div class="thumbnail-section">
                    <div class="price-type">
                      <span class="green font-iran-bold">{{item.priceType}}</span>
                    </div>
                    <div class="property-status">
                      <span class="green font-iran-bold">{{item.TransactionType[0].title}}</span>
                    </div>
                    <div class="property-image">
                      <img *ngIf="item.image === null || item.image === ''"
                        src="../../../assets/images/user-default.png" class="w-100" height="200px" />
                      <img *ngIf="item.image !== null" [src]="item.image" class="w-100" height="200px" />
                    </div>
                    <div class="control-icons">
                      <button class="add-to-favorite-button" title="افزودن به علاقه مندی ها"
                        (click)="addToFavories(item._id)">
                        <i class="material-icons mat-icon-sm">favorite_border</i>
                      </button>
                    </div>
                  </div>
                  <div class="property-content-wrapper">
                    <div class="property-content text-right">
                      <div class="content">
                        <span class="code flex-nowrap">
                          <span>کد: {{ item.code }}</span>
                        </span>
                        <h1 class="title">
                          <a (click)="redirectToDetails(item._id)">
                            {{ item.title }}
                          </a>
                        </h1>

                        <p class="row address flex-row-reverse">
                          <i class="material-icons text-muted">location_on</i>
                          <span>{{ item.state + "، " + item.city }}</span>
                        </p>
                        <div class="row justify-content-center" *ngIf="
                                item.transactionTypeID === '613be86ae83f7824dce7cadb'
                              ">
                          <h3 class="primary-color price">
                            <span>{{ item.price | number }} تومان</span>
                          </h3>
                        </div>
                        <div class="row justify-content-center" *ngIf="item.transactionTypeID !== '613be86ae83f7824dce7cadb'">
                          <h3 class="primary-color price">
                            <span>رهن {{ item.priceMortgage | number }}  -
                              اجاره {{ item.priceRent | number }} </span>
                          </h3>
                        </div>
                  

                        <div class="features mt-3">
                          <p>
                            <span>{{ item.area }}</span><span>متراژ<i class="fa fa-arrows" aria-hidden="true"></i>
                            </span>
                          </p>
                          <p>
                            <span>{{ item.age }}</span><span>سن ملک<i class="fa fa-calendar" aria-hidden="true"></i>
                            </span>
                          </p>
                          <p>
                            <span> {{ item.bath }}</span><span>حمام<i class="fa fa-bath"></i></span>
                          </p>
                          <p>
                            <span>{{ item.bedroom }}</span>
                            <span>اتاق خواب<i class="fa fa-bed" aria-hidden="true"></i></span>
                          </p>
                        </div>
                      </div>

                      <div class="actions row justify-content-center mt-3">
                        <div class="col-6 align-self-center">
                          <p class="date mb-0">
                            <i class="material-icons text-muted">date_range</i>
                            <span class="mx-2">{{ item.date }}</span>
                          </p>
                        </div>
                        <div class="col-6 align-self-center d-flex flex-row-reverse">
                          <a class="white-flat-button" (click)="redirectToDetail(item._id)">جزییات</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </owl-carousel-o>
        </div>
        <div class="row justify-content-center mt-4" *ngIf="properties.length > 0">
          <a class="green-button" [routerLink]="['/properties']">مشاهده بیشتر</a>
        </div>
      </div>

    </div>
  </div>
</div>