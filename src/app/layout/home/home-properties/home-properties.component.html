<p-toast position="center"></p-toast>

<div class="section mt-3 pb-70">
  <div class="px-3">
    <div class="theme-container">
      <h1 class="section-title">املاک "جدید"</h1>

      <div class="container-fluid properties-wrapper p-0 mt-5">

        <div class="ltr">
          <owl-carousel-o [options]="customOptions">
            <ng-template carouselSlide *ngFor="let item of properties">
              <div class="item">
                <div class="
                        property-card property-item
                        grid-item
                        column-4
                        full-width-page
                      ">
                  <div class="thumbnail-section">
                    <div class="price-type">
                      <span *ngIf="item.priceType ==='به قیمت'" class="green font-iran-bold">{{ item.priceType }}</span>
                      <span *ngIf="item.priceType ==='مناسب'"  class="orange font-iran-bold">{{  item.priceType  }}</span>
                    </div>
                    <div class="property-status">
                      <span class="green font-iran-bold">{{item.TransactionType[0].title}}</span>
                    </div>
                    <div class="property-image">
                      <img *ngIf="item.image === null || item.image === ''"
                        src="../../../assets/images/user-default.png" class="w-100" height="200px" />
                      <img *ngIf="item.image !== null" [src]="item.image" class="w-100" height="200px" />
                    </div>
                    <div class="control-icons">
                      <button class="add-to-favorite-button" title="افزودن به علاقه مندی ها"
                        (click)="addToFavorites(item._id)">
                        <!-- <i class="material-icons mat-icon-sm">favorite_border</i> -->
                            <svg width="18" height="18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
                              <metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata>
                              <g><g transform="translate(0.000000,426.000000) scale(0.100000,-0.100000)"><path d="M2244.2,3353.9C1208.7,3167,393.2,2388.4,161.5,1368.5C-37,486.8,245.2-492.3,1004.3-1553.1C1744-2586.7,2976.1-3725.4,4171.2-4478.6c348.4-218,657.9-369.8,792.2-383.5c124.6-11.7,276.4,44.8,589.8,219.9C6579-4064,7853.9-2977.9,8663.6-1991.1C9516.2-953.6,9948.3,76.1,9895.7,940.3c-74,1220.4-955.7,2207.3-2160.6,2415.6c-219.9,37-611.2,37-844.7,0c-747.4-120.7-1469.6-619-1818-1255.5c-35-64.2-70.1-116.8-75.9-116.8c-5.8,0-21.4,23.4-35,54.5c-116.8,255-531.4,712.4-819.5,903.2c-325.1,214.1-681.3,356.2-1031.6,414.6C2880.7,3392.8,2454.4,3390.9,2244.2,3353.9z"/></g></g>
                              </svg>
                      </button>
                    </div>
                  </div>
                  <div class="property-content-wrapper">
                    <div class="property-content text-right">
                      <div class="content">
                        <span class="code flex-nowrap">
                          <span>کد: {{ item.code }}</span>
                        </span>
                        <h1 class="title">
                          <a (click)="redirectToDetails(item._id)">
                            {{ item.title }}
                          </a>
                        </h1>

                        <p class="row address flex-row-reverse">
                          <i class="material-icons text-muted">location_on</i>
                          <span>{{ item.state + "، " + item.city }}</span>
                        </p>
                        <div class="row justify-content-center" *ngIf="
                                item.transactionTypeID === '613be86ae83f7824dce7cadb'
                              ">
                          <h3 class="primary-color price">
                            <span>{{ item.price | number }} تومان</span>
                          </h3>
                        </div>
                        <div class="row justify-content-center"
                          *ngIf="item.transactionTypeID !== '613be86ae83f7824dce7cadb'">
                          <h3 class="primary-color price">
                            <span>رهن {{ item.priceMortgage | number }} -
                              اجاره {{ item.priceRent | number }} </span>
                          </h3>
                        </div>


                        <div class="features mt-3">
                          <p>
                            <span>{{ item.area }}</span><span>متراژ<i class="fa fa-arrows" aria-hidden="true"></i>
                            </span>
                          </p>
                          <p>
                            <span>{{ item.age }}</span><span>سن ملک<i class="fa fa-calendar" aria-hidden="true"></i>
                            </span>
                          </p>
                          <p>
                            <span> {{ item.bath }}</span><span>حمام<i class="fa fa-bath"></i></span>
                          </p>
                          <p>
                            <span>{{ item.bedroom }}</span>
                            <span>اتاق خواب<i class="fa fa-bed" aria-hidden="true"></i></span>
                          </p>
                        </div>
                      </div>

                      <div class="actions row justify-content-center mt-3 rtl">
                        <div class="col-6 align-self-center">
                          <p class="date mb-0">
                            <i class="material-icons text-muted">date_range</i>
                            <span class="mx-2">{{ item.date }}</span>
                          </p>
                        </div>
                        <div class="col-6 align-self-center d-flex flex-row-reverse">
                          <a class="white-flat-button" (click)="redirectToDetail(item._id)">جزییات</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </owl-carousel-o>
        </div>
        <div class="row justify-content-center mt-4" *ngIf="properties.length > 0">
          <a class="green-button" [routerLink]="['/properties']">مشاهده بیشتر</a>
        </div>
      </div>

    </div>
  </div>
</div>